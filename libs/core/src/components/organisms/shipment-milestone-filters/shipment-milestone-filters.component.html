<!-- 9fbef606107a605d69c0edbcd8029e5d_SYMPHONY -->
<ng-template ngFor let-milestone let-i="index" [ngForOf]="milestones">
  <h1
    class="title"
    *ngIf="isMobileDevice && selectedIndex > -1 && selectedIndex === i"
  >
    {{
      milestone?.id?.toLowerCase() === shipmentId
        ? ("lbl_shipment_all" | content)
        : (utility.removeSpace(milestone.id?.toLowerCase()) === 'asncreated'
        || milestone.id?.toLowerCase() === 'ftz'
        ? (("lbl_shipment_milestone_" + (utility.removeSpace(milestone.id?.toLowerCase()))
        | content) || milestone.name)
        : toSentenceCase(
            ("lbl_shipment_milestone_" + milestone.id?.toLowerCase()
              | content) || milestone.name))
    }}
    {{ "lbl_" + milestoneType + "_shipment_l2_page_title" | content }} ({{
      milestone.count
    }})
  </h1>
</ng-template>

<ul
  *ngIf="milestones?.length && (selectedIndex === -1 || !isMobileDevice)"
  class="milestone-filters"
  [attr.aria-label]="'lbl_aria_milestone_filters' | content"
>
  <ng-template ngFor let-milestone let-i="index" [ngForOf]="milestones">
    <li class="miestone-wrapper">
      <button
        class="milestone-header"
        [ngClass]="{
          selected: selectedIndex === i && !isMobileDevice
        }"
        mat-button
        (click)="onStepSelection(i)"
        [attr.aria-pressed]="
          selectedIndex === i && !isMobileDevice ? true : false
        "
        [attr.aria-label]="
          (('lbl_shipment_milestone_' + milestone.id?.toLowerCase()
            | content) || milestone.name?.toUpperCase()) +
          ': ' +
          milestone.count +
          ' ' +
          ('lbl_shipment_milestone_shipment' | content)
        "
      >
        <div class="step-container">
          <div class="step-icon-wrapper">
            <i
              [class]="
              'step-icon symphony-icons symphony-icons-milestone-' +
              (availableIcons.indexOf(utility.removeSpace(milestone.id?.toLowerCase())) !== -1
                ? (utility.removeSpace(milestone.id?.toLowerCase()))
                : defaultIcon)
            "
              aria-hidden="true"
            ></i>
          </div>
          <div class="step-details">
            <b class="milestone-name h7">{{
              ("lbl_shipment_milestone_" + milestone.id?.toLowerCase()
                | content) || milestone.name?.toUpperCase()
            }}</b>
            <div class="milestone-count h2">
              {{ milestone.count }}
            </div>
          </div>
          <div class="step-angle-icon">
            <i
              class="symphony-icons symphony-icons-angle-right"
              aria-hidden="true"
            ></i>
          </div>
        </div>
      </button>
    </li>
  </ng-template>
</ul>

<div role="alert" aria-live="polite" class="sr-only">
  {{ "lbl_now_displaying" | content }} {{ milestones[selectedIndex]?.count }}
  {{ "lbl_table_header_second" | content }}
</div>
