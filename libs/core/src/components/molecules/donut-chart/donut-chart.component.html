<!-- 9fbef606107a605d69c0edbcd8029e5d_SYMPHONY -->
<div *ngIf="!hasApiFailed && showChart">
  <div class="chart">
    <lib-chart
      [chartId]="chartId"
      [chartType]="chartType"
      [chartData]="chartData"
      [chartOptions]="chartOptions"
      [ariaLabel]="ariaLabel"
      [noDataMessage]="noDataMessage"
      defaultLabelContent="{{ null }}"
      [isDonutChart]="true"
      (clickEvent)="clickOnDonutChart($event)"
      [hideDrillDownButtonLabel]="hideDrillDownButtonLabel"
      [component]="component"
      [emitClickEvent]="true"
      (clickOnChartEvent)="clickOnDonutChartSlice($event)"
    ></lib-chart>
  </div>
</div>
<div *ngIf="hasApiFailed">
  <lib-error
    variation="component"
    [customStyle]="customStyle"
    [errorReason]="errorReason"
    [pageSection]="pageSection"
  >
  </lib-error>
</div>

<lib-chart-modal
  [showModal]="isViewDataClicked"
  [modalTitle]="modalTitle"
  [modalData]="modalData"
  [attrToFetchData]="attrToFetchData"
  [contentHtmlKey]="contentHtmlKey"
  [hasApiFailed]="hasApiFailed"
  [pageSection]="pageSection"
  [errorReason]="errorReason"
  (modalClosed)="onModalClose($event)"
></lib-chart-modal>

<ng-template #headerRightTemplate>
  <lib-button
    variation="link-button"
    (clickEvent)="onViewDataClick()"
    [text]="'lbl_chart_learn_more' | content"
    [ariaLabel]="learnMoreAriaLbl"
    size="sm"
  >
  </lib-button>
</ng-template>
