<!-- 9fbef606107a605d69c0edbcd8029e5d_SYMPHONY -->
<div [formGroup]="filterForm" class="wip-drilldown-filters">
  <div class="row">
    <div class="col col-sm-12">
      <lib-page-filter
        [controlFormGroup]="filterForm?.get('dates')"
        [isPageFilter]="false"
        [showNoDate]="true"
        [defaultRangeDays]="filterData?.selectedFilters?.dates?.dateRange ? filterData.selectedFilters.dates.dateRange : 0"
        [customStyle]="selectBoxStyle"
        [maxRestrict]="90"
        [allowFutureDates]="wipChartType === outboundWIP"
        [routeSegment]="wipChartType"
        classNameDateRange="report-type-dropdown-singleselect"
        [isMobileViewport]="isMobile"
      ></lib-page-filter>
      <div
        class="error-msg filter-error-msg body2"
        *ngIf="filterForm?.get('dates')?.invalid"
      >
        {{ "lbl_date_range_90_error" | content }}
      </div>
    </div>
    <div class="col col-sm-12 other-wip-drilldown-filters">
      <div class="drilldown-filter">
        <lib-select
          [model]="filterForm.get('wipActivity')"
          label="{{
            'lbl_wip_drill_down_in_progress_activity_label' | content
          }}"
          [optionLists]="filterData?.activityList ? filterData.activityList : []"
          className="multiselect-column report-type-dropdown-multiselect"
          controlName="wipActivity"
          variation="multiple"
          fixedLabel="{{
            'lbl_wip_drill_down_in_progress_activity_label' | content
          }}"
          [showSelectAllOption]="true"
          selectAllCheckboxText="{{ 'lbl_multi-select_selectall' | content }}"
          [initialSelected]="filterData?.selectedFilters?.wipActivity && filterData.selectedFilters.wipActivity !== 'ALL'
                              ? filterData.selectedFilters.wipActivity : filterData?.selectedActivity
                              ? [filterData.selectedActivity] : filterData?.activityList
                              ? filterData.activityList : []"
          [showColorsInMultiSelect]="false"
          (selectionChange) = "selectedDropdownValues.wipActivity  = $event"

        ></lib-select>
      </div>
      <div class="drilldown-filter" *ngIf="wipChartType === outboundWIP">
        <lib-select
          [model]="filterForm.get('shipmentMode')"
          label="{{ 'lbl_wip_drill_down_modes_label' | content }}"
          [optionLists]="filterData?.modeList ? filterData.modeList : []"
          className="multiselect-column report-type-dropdown-multiselect"
          controlName="shipmentMode"
          variation="multiple"
          fixedLabel="{{ 'lbl_wip_drill_down_modes_label' | content }}"
          [showSelectAllOption]="true"
          selectAllCheckboxText="{{ 'lbl_multi-select_selectall' | content }}"
          [showColorsInMultiSelect]="false"
          [initialSelected]="filterData?.selectedFilters?.shipmentMode && filterData.selectedFilters.shipmentMode !== 'ALL'
                            ? filterData.selectedFilters.shipmentMode : filterData?.modeList
                            ? filterData.modeList : []"
          (selectionChange) = "selectedDropdownValues.shipmentMode  = $event"

        ></lib-select>
      </div>
      <div class="drilldown-filter">
        <lib-select
          [model]="filterForm.get('warehouseCode')"
          label="{{ 'lbl_wip_drill_down_warehouse_label' | content }}"
          [optionLists]="warehouseListing"
          className="multiselect-column report-type-dropdown-multiselect"
          controlName="warehouseCode"
          variation="multiple"
          fixedLabel="{{ 'lbl_wip_drill_down_warehouse_label' | content }}"
          [showSelectAllOption]="true"
          [initialSelected]="filterData?.selectedFilters?.warehouseCode && filterData?.selectedFilters?.warehouseCode !== 'ALL' ? filterData.selectedFilters.warehouseCode :
            filterData?.warehouseName
              ? [filterData.warehouseName]
              : warehouseListing
          "
          [showColorsInMultiSelect]="false"
          selectAllCheckboxText="{{ 'lbl_multi-select_selectall' | content }}"
          (selectionChange) = "selectedDropdownValues.warehouseCode = $event"
        ></lib-select>
      </div>
    </div>
    <div class="col col-sm-12">
      <div class="drilldown-filter-apply">
        <lib-button
          [text]="'lbl_apply'"
          (click)="applyFilters()"
          [disabled]="filterForm?.invalid || disableApply"
          [color]="'primary'"
          [fullWidth]="btnFullWidth"
        ></lib-button>
      </div>
    </div>
  </div>
</div>
