<!-- 9fbef606107a605d69c0edbcd8029e5d_SYMPHONY -->
<div
  class="dropzone"
  libFileDnd
  (fileDropped)="onFileDropped($event)"
  tabindex="0"
  [ngClass]="[
    !value?.length || (!value?.length && !errors) ? 'not-selected' : 'selected'
  ]"
>
  <ng-container *ngIf="!value?.length || (!value?.length && !errors)">
    <input
      type="file"
      #fileDropRef
      id="fileDropRef"
      (change)="onInputChange($event)"
    />
    <div class="vertical-middle-align body-1">
      <span class="drag-text">{{ "lbl_drag_n_drop" | content }}&nbsp;</span>
      <a class="upload-link">{{ "lbl_file_upload" | content }}</a>
      <lib-button color="secondary" text="lbl_billing_selectFile"></lib-button>
    </div>
  </ng-container>
  <ng-container *ngIf="errors?.fileMaxSize && !errors?.fileExtension">
    <span class="body4">{{ errorFileSizeMessage | content }}</span>
    <ul>
      <li *ngFor="let file of value">
        <span
          ><span
            ><i
              class="symphony-icons symphony-icons-close correct"
              aria-hidden="true"
            ></i></span
          ><span>{{ file.name }}</span></span
        >
        <a class="body4" (click)="removeFile(file.name)">{{
          "lbl_file_remove" | content
        }}</a>
      </li>
    </ul>
  </ng-container>
  <ng-container *ngIf="errors?.fileExtension">
    <span class="body4">{{ errorFileTypeMessage | content }}</span>
    <ul>
      <li *ngFor="let file of errors?.fileExtension">
        <span
          ><span
            ><i
              class="symphony-icons symphony-icons-close error"
              aria-hidden="true"
            ></i></span
          ><span>{{ file }}</span></span
        >
        <a class="body4" (click)="removeFile(file.name)">{{
          "lbl_file_remove" | content
        }}</a>
      </li>
    </ul>
  </ng-container>
  <ng-container *ngIf="errors?.fileDuplicates">
    <span class="body4">{{ errorFileDuplicateMessage | content }}</span>
    <ul>
      <li *ngFor="let errorFile of errors?.fileDuplicates">
        <span
          ><span
            ><i
              class="symphony-icons symphony-icons-checkMark correct"
            ></i></span
          ><span>{{ errorFile.split(".").slice(0, -1).join(".") }}</span
          >_<b>{{ timeStamp }}</b
          >.<span>{{ errorFile.split(".").pop() }}</span></span
        >
        <a class="body4" (click)="removeFile(errorFile)">{{
          "lbl_file_remove_duplicate" | content
        }}</a>
      </li>
    </ul>
  </ng-container>
  <ng-container
    *ngIf="
      value?.length &&
      !errors?.fileDuplicates &&
      !errors?.fileExtension &&
      !errors?.fileMaxSize
    "
  >
    <div class="vertical-middle-align body-1">
      <ul>
        <li *ngFor="let file of value">
          <span
            ><i
              class="symphony-icons symphony-icons-checkMark correct"
            ></i></span
          ><span>{{ file.name }}</span>
        </li>
      </ul>
    </div>
  </ng-container>
</div>
